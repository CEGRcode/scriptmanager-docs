---
id: chipexo-tutorial
title: "ChIP-exo Tutorial"
sidebar_label: "ChIP-exo Tutorial"
---

_Analyze real ChIPexo data from the Yeast Epigenome Project (Rossi et al, 2021)_

**Goal:** This tutorial provides a guide to generating 2 basic plots (Composite plot and Heatmap) using the ScriptManager platform and the data generated by the Yeast Epigenome project.

## Download ScriptManager (v0.12):
The current version of ScriptManager is available for download here:
https://github.com/CEGRcode/scriptmanager/releases/download/v0.12/ScriptManager-0.12.jar

The file ‘ScriptManager-0.12.jar’ should be placed someplace locally accessible. For example on Mac OS on the Desktop (Permissions will need to be accepted) or someplace in your home directory (i.e. Macintosh HD/Users/userID/ScriptManager)

_ScriptManager requires Java v11+ to run and may need to be installed separately:_
https://www.oracle.com/java/technologies/javase-downloads.html

## Download Reb1 sample ChIP-exo data:
1. Navigate to www.yeastepigenome.org and search for Reb1
2. Select "META DATA"
3. Select "Direct Download"
4. Unzip the resulting file ‘12141_YEP.zip’ and inspect the contents. It should contain the following files:

## Generate the Plots
### 1. Open ScriptManager
Depending on your system permissions, you may need to be an administrator to open this for the first time. On Mac systems, this can be done by right-clicking the file and selecting ‘Open’ at the top.

### 2. Generate BAI index file
A BAI index file is required for each BAM file of interest (i.e., the tag occupancy data you want to plot).
:::note
The speed of this step scales with the size of the BAM file. Generally this step 30 sec for a 100 MB BAM file but may take 1-2 min for a multi-GB BAM file.
:::
The BAI index file allows for rapid access of the sorted and aligned sequence reads (BAM file). The recommended SAM/BAM standard is to keep BAI file in same directory as BAM file with the ScriptManager-generated filename.

### 3. Resize the Reb1 motif-aligned BED file
This is the set of reference coordinates that your heatmap and composite plots will be aligned to, but you’ll need to specify how far upstream and downstream you want your data to be plotted; i.e., “Size of Expansion (bp). If you bed file is defined by more than a 1 bp interval AND you want to add to limits of that interval, then select  “Add to Border”)

BED file coordinates often need to be resized for more informative tag pileups. For Reb1 (yeast) 250-500 bp windows are generally sufficient. Mammalian samples may require larger windows (500-2000 bp) based on the amount of indirect-crosslinking

### 4. Generate the tag pileup
The default parameters Tag Pileup is set to expect is a sequence-specific strand separated ChIP-exo dataset. Modifications to these parameters are needed for either specific analysis or alternative assays.

The displayed composite plot can be modified by right-clicking and selecting properties. Things such as axis labels, axis range, and colors can be modified here. The final image can then be saved by right-clicking and selecting ‘Save as’. PNG is fine for most cases, but SVG is strongly recommended if this composite plot will be used in Adobe Illustrator later.

The raw data used to generate the plot is also available in the second tab labelled ‘Pileup Statistics’.

The raw data may also be exported to a tab-delimited file (default ‘composite_average.out’) that can be visualized in any graphing software.

### 5. Generate Heatmaps
Heatmap Generator can only generate one color at a time, so ‘Sense’ and ‘Anti’ files should be processed separately. The ChIP-exo standard for strand colors is ‘Sense’ == blue and ‘Anti’ == red.!

### 6. Merge strange-separated heatmaps
The script will automatically match sense to anti using the standardized naming conventions generated by ScriptManager

## General Comments
Bioinformatic projects should be organized in a uniform and consistent manner as described in [__Noble, 2009__][noble-paper].

[noble-paper]:https://journals.plos.org/ploscompbiol/article/file?id=10.1371/journal.pcbi.1000424&type=printable
