"use strict";(self.webpackChunkscriptmanager_docs=self.webpackChunkscriptmanager_docs||[]).push([[9047],{3905:(e,t,a)=>{a.d(t,{Zo:()=>s,kt:()=>b});var i=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,i,n=function(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var p=i.createContext({}),u=function(e){var t=i.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):o(o({},t),e)),a},s=function(e){var t=u(e.components);return i.createElement(p.Provider,{value:t},e.children)},d="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,p=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),d=u(a),m=n,b=d["".concat(p,".").concat(m)]||d[m]||c[m]||r;return a?i.createElement(b,o(o({ref:t},s),{},{components:a})):i.createElement(b,o({ref:t},s))}));function b(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,o=new Array(r);o[0]=m;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[d]="string"==typeof e?e:n,o[1]=l;for(var u=2;u<r;u++)o[u]=a[u];return i.createElement.apply(null,o)}return i.createElement.apply(null,a)}m.displayName="MDXCreateElement"},3212:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>p,contentTitle:()=>o,default:()=>c,frontMatter:()=>r,metadata:()=>l,toc:()=>u});var i=a(7462),n=(a(7294),a(3905));const r={id:"remove-duplicates",title:"Mark Duplicates (Picard)",sidebar_label:"Mark Duplicates"},o=void 0,l={unversionedId:"bam-manipulation/remove-duplicates",id:"bam-manipulation/remove-duplicates",title:"Mark Duplicates (Picard)",description:"remove-duplicates",source:"@site/docs/bam-manipulation/remove-duplicates.md",sourceDirName:"bam-manipulation",slug:"/bam-manipulation/remove-duplicates",permalink:"/scriptmanager-docs/docs/bam-manipulation/remove-duplicates",draft:!1,tags:[],version:"current",lastUpdatedBy:"Olivia Wen-Mei Lang",lastUpdatedAt:1674698068,formattedLastUpdatedAt:"Jan 26, 2023",frontMatter:{id:"remove-duplicates",title:"Mark Duplicates (Picard)",sidebar_label:"Mark Duplicates"},sidebar:"toolSidebar",previous:{title:"Sort BAM",permalink:"/scriptmanager-docs/docs/bam-manipulation/sort-bam"},next:{title:"Merge BAM",permalink:"/scriptmanager-docs/docs/bam-manipulation/merge-bam"}},p={},u=[{value:"File inputs (BAM)",id:"file-inputs-bam",level:3},{value:"Output file (BAM &amp; TXT)",id:"output-file-bam--txt",level:3},{value:"Example XXX_dedup.metrix output (TXT)",id:"example-xxx_dedupmetrix-output-txt",level:4},{value:"Remove Duplicates Option",id:"remove-duplicates-option",level:3},{value:"Generate BAI file (GUI only)",id:"generate-bai-file-gui-only",level:3},{value:"Command Line Interface (Picard and Samtools)",id:"command-line-interface-picard-and-samtools",level:2}],s={toc:u},d="wrapper";function c(e){let{components:t,...r}=e;return(0,n.kt)(d,(0,i.Z)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"remove-duplicates",src:a(9081).Z,width:"103",height:"103"})),(0,n.kt)("p",null,"Removes or marks duplicate reads in paired-end sequencing given identical 5' read positions. ",(0,n.kt)("em",{parentName:"p"},"Read more in the ",(0,n.kt)("a",{parentName:"em",href:"https://broadinstitute.github.io/picard/command-line-overview.html#MarkDuplicates"},"Picard documentation")),"."),(0,n.kt)("img",{src:a(8897).Z,style:{width:"70%"}}),(0,n.kt)("h3",{id:"file-inputs-bam"},"File inputs (BAM)"),(0,n.kt)("p",null,"This script filters BAM-type files so make sure your inputs are properly formatted and use the appropriate ",(0,n.kt)("inlineCode",{parentName:"p"},".bam")," extension. The script also supports bulk selection and processing of files."),(0,n.kt)("h3",{id:"output-file-bam--txt"},"Output file (BAM & TXT)"),(0,n.kt)("p",null,"The output BAM files are named based on the input filenames. The ",(0,n.kt)("inlineCode",{parentName:"p"},"_dedup.bam")," suffix is used for each output. For example, for a given ",(0,n.kt)("inlineCode",{parentName:"p"},"XXX.bam")," input file, a new ",(0,n.kt)("inlineCode",{parentName:"p"},"XXX_dedup.bam")," file will be written to the user-selected output directory."),(0,n.kt)("p",null,"The output text files are also named based on the input filenames. The ",(0,n.kt)("inlineCode",{parentName:"p"},"_dedup.metrics")," suffix is used for each output. For example, for a given ",(0,n.kt)("inlineCode",{parentName:"p"},"XXX.bam")," input file, a new ",(0,n.kt)("inlineCode",{parentName:"p"},"XXX_dedup.metrics")," file will be written to the user-selected output directory."),(0,n.kt)("h4",{id:"example-xxx_dedupmetrix-output-txt"},"Example XXX_dedup.metrix output (TXT)"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre"},"")),(0,n.kt)("h3",{id:"remove-duplicates-option"},"Remove Duplicates Option"),(0,n.kt)("p",null,'Each output file can either remove one of the duplicate reads or mark them by changing the SAMFlag value to update the status as "duplicate." This checkbox option determines whether the duplicate reads are kept or just marked.'),(0,n.kt)("h3",{id:"generate-bai-file-gui-only"},"Generate BAI file (GUI only)"),(0,n.kt)("p",null,"By checking this box, the script will automatically generate a BAI index file for each new output BAM file."),(0,n.kt)("admonition",{type:"caution"},(0,n.kt)("p",{parentName:"admonition"},"The CLI will not index the resulting BAM file. The user must use appropriate ",(0,n.kt)("a",{parentName:"p",href:"http://www.htslib.org/doc/samtools-index.html"},"samtools"),"/",(0,n.kt)("a",{parentName:"p",href:"https://broadinstitute.github.io/picard/command-line-overview.html#BuildBamIndex"},"Picard")," command to generate BAI.")),(0,n.kt)("h2",{id:"command-line-interface-picard-and-samtools"},"Command Line Interface (Picard and Samtools)"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"CommandLine tools already exist for this function. This tool only exists as a GUI wrapper in ScriptManager.")),(0,n.kt)("p",null,"Please see the ",(0,n.kt)("a",{parentName:"p",href:"http://www.htslib.org/doc/samtools-markdup.html"},"Samtools markdup tool")," or the ",(0,n.kt)("a",{parentName:"p",href:"https://broadinstitute.github.io/picard/command-line-overview.html#MarkDuplicates"},"Picard MarkDuplicates tool")," for a command line tool that performs this function."))}c.isMDXComponent=!0},8897:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/BAMMarkDupWindow-5c1f00134dfdbc91b1f4d6e35440e24c.png"},9081:(e,t,a)=>{a.d(t,{Z:()=>i});const i="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjIuMywgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDMgMTAzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDMgMTAzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjtzdHJva2U6IzA3MDYwNjtzdHJva2Utd2lkdGg6MztzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cgkuc3Qxe2ZpbGw6bm9uZTtzdHJva2U6IzIyMUUxRjtzdHJva2Utd2lkdGg6NTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cgkuc3Qye2ZpbGw6bm9uZTtzdHJva2U6IzIyMUUxRjtzdHJva2Utd2lkdGg6NTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7fQo8L3N0eWxlPgo8ZyBpZD0iRm91cl9Db2xvcl9TZXF1ZW5jZV9QbG90Ij4KCTxwYXRoIGlkPSJzcXVhcmUiIGNsYXNzPSJzdDAiIGQ9Ik05LjMsMS41aDg0LjRjNC4zLDAsNy44LDMuNSw3LjgsNy44djg0LjRjMCw0LjMtMy41LDcuOC03LjgsNy44SDkuM2MtNC4zLDAtNy44LTMuNS03LjgtNy44VjkuMwoJCUMxLjUsNSw1LDEuNSw5LjMsMS41eiIvPgo8L2c+CjxnIGlkPSJNYXJrX0R1cGxpY2F0ZXMiPgoJPHBhdGggY2xhc3M9InN0MSIgZD0iTTI5LjksNjEuMVY0Ny40YzAtMy45LDMuMS03LDctN2wwLDBoMTkuNmMzLjksMCw3LDMuMSw3LDdsMCwwVjY3YzAsMy45LTMuMSw3LTcsN0g0MC44Ii8+Cgk8cGF0aCBjbGFzcz0ic3QxIiBkPSJNNDkuNSwzMi4ydi0yLjRjMC0zLjksMy4xLTcsNy03aDE5LjZjMy45LDAsNywzLjEsNyw3bDAsMHYxOS42YzAsMy45LTMuMSw3LTcsN0g3MSIvPgoJPGxpbmUgY2xhc3M9InN0MiIgeDE9IjE5LjkiIHkxPSI3NCIgeDI9IjMyLjIiIHkyPSI3NCIvPgoJPGxpbmUgY2xhc3M9InN0MiIgeDE9IjI2LjMiIHkxPSI2Ny44IiB4Mj0iMjYuMyIgeTI9IjgwLjEiLz4KPC9nPgo8L3N2Zz4K"}}]);