"use strict";(self.webpackChunkscriptmanager_docs=self.webpackChunkscriptmanager_docs||[]).push([[7007],{5680:(e,t,a)=>{a.d(t,{xA:()=>c,yg:()=>u});var r=a(6540);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,r,n=function(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=r.createContext({}),p=function(e){var t=r.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},c=function(e){var t=p(e.components);return r.createElement(s.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var a=e.components,n=e.mdxType,o=e.originalType,s=e.parentName,c=l(e,["components","mdxType","originalType","parentName"]),g=p(a),d=n,u=g["".concat(s,".").concat(d)]||g[d]||m[d]||o;return a?r.createElement(u,i(i({ref:t},c),{},{components:a})):r.createElement(u,i({ref:t},c))}));function u(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=a.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[g]="string"==typeof e?e:n,i[1]=l;for(var p=2;p<o;p++)i[p]=a[p];return r.createElement.apply(null,i)}return r.createElement.apply(null,a)}d.displayName="MDXCreateElement"},8662:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>m,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var r=a(8168),n=(a(6540),a(5680));const o={id:"cross-corr",title:"BAM Cross Correlation (ArchTEx)",sidebar_labal:"BAM Cross Correlation"},i=void 0,l={unversionedId:"Tools/bam-statistics/cross-corr",id:"Tools/bam-statistics/cross-corr",title:"BAM Cross Correlation (ArchTEx)",description:"Calculate optimal tag shift based on ArchTEx implementation from Lai et al, 2012 (PMID:22302569).",source:"@site/docs/Tools/bam-statistics/cross-corr.md",sourceDirName:"Tools/bam-statistics",slug:"/Tools/bam-statistics/cross-corr",permalink:"/scriptmanager-docs/docs/Tools/bam-statistics/cross-corr",draft:!1,tags:[],version:"current",lastUpdatedBy:"Olivia Wen-Mei Lang",lastUpdatedAt:1724186052,formattedLastUpdatedAt:"Aug 20, 2024",frontMatter:{id:"cross-corr",title:"BAM Cross Correlation (ArchTEx)",sidebar_labal:"BAM Cross Correlation"},sidebar:"toolSidebar",previous:{title:"bam-correlation",permalink:"/scriptmanager-docs/docs/Tools/bam-statistics/bam-correlation"},next:{title:"Paired-End Statistics",permalink:"/scriptmanager-docs/docs/Tools/bam-statistics/pe-stat"}},s={},p=[{value:"Input BAM files",id:"input-bam-files",level:3},{value:"Correlation Strategies",id:"correlation-strategies",level:3},{value:"Output Files",id:"output-files",level:3},{value:"Command Line Interface",id:"command-line-interface",level:2},{value:"Positional Input",id:"positional-input",level:3},{value:"Output Option",id:"output-option",level:3},{value:"Correlation Strategy Options",id:"correlation-strategy-options",level:3},{value:"Other Options",id:"other-options",level:3}],c={toc:p},g="wrapper";function m(e){let{components:t,...o}=e;return(0,n.yg)(g,(0,r.A)({},c,o,{components:t,mdxType:"MDXLayout"}),(0,n.yg)("p",null,"Calculate optimal tag shift based on ArchTEx implementation from ",(0,n.yg)("a",{parentName:"p",href:"https://pubmed.ncbi.nlm.nih.gov/22302569/"},"Lai et al, 2012 (PMID:22302569)"),"."),(0,n.yg)("div",{class:"tutorial-img-flow-container"},(0,n.yg)("img",{src:a(9404).A,style:{width:"50%"}})),(0,n.yg)("p",null,"This tool is typically used for empirically determining a tag shift value for combining forward and reverse strand occupancies in tools such as ",(0,n.yg)("a",{parentName:"p",href:"/docs/Tools/read-analysis/tag-pileup"},(0,n.yg)("strong",{parentName:"a"},"Tag Pileup")),". In many chromatin immunoprecipitation (ChIP)-based approaches, there is a slight offset of strand-specific read occupancies as shown above and this offset is different across experiments due to differences in the fragmentation method, the length of DNA that the protein target binds, secondary crosslink patterning, and a variety of other factors. To account for this variable offset, this computational approach to determining tag shift was developed. The correlation for every tag shift from 0 to 1000bp is calculated to determine the shift with the best correlation within this range."),(0,n.yg)("img",{src:a(8605).A,style:{width:"70%"}}),(0,n.yg)("h3",{id:"input-bam-files"},"Input BAM files"),(0,n.yg)("p",null,"The graphical interface restricts file selection by the ",(0,n.yg)("inlineCode",{parentName:"p"},".bam")," file extension. This tool supports batch processing of files."),(0,n.yg)("h3",{id:"correlation-strategies"},"Correlation Strategies"),(0,n.yg)("p",null,"You may choose from two strategies for calculating the correlation:"),(0,n.yg)("ul",null,(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Whole Genome (recommended)")," correlation will calculate the correlation of tags across the entire genome (chr sizes inferred from BAM header)."),(0,n.yg)("li",{parentName:"ul"},(0,n.yg)("strong",{parentName:"li"},"Random sampling")," correlation will sample some user-specified number of sites from each chromosome across a user-specified sized window.")),(0,n.yg)("h3",{id:"output-files"},"Output Files"),(0,n.yg)("p",null,'You may optionally select to write the correlations scores and peak position output to a text file by checking the "Output Statistics" checkbox.'),(0,n.yg)("p",null,"The output window will display progress through the file (printing chromosome currently being analyzed) as well as final ",(0,n.yg)("strong",{parentName:"p"},"Tag Shift (x-axis)")," \u27a1\ufe0f ",(0,n.yg)("strong",{parentName:"p"},"Correlation Values (y-axis)"),' under the "C-C Data" tab. The "C-C Plots" tab will display the same values as a line plot.'),(0,n.yg)("div",{class:"tutorial-img-flow-container"},(0,n.yg)("img",{src:a(8788).A,style:{width:"50%"}}),(0,n.yg)("img",{src:a(7557).A,style:{width:"50%"}})),(0,n.yg)("h2",{id:"command-line-interface"},"Command Line Interface"),(0,n.yg)("p",null,"Usage:"),(0,n.yg)("pre",null,(0,n.yg)("code",{parentName:"pre",className:"language-bash"},"java -jar ScriptManager.jar bam-statistics cross-corr [-g | -r]\n       [-w=<windowSize> | -i=<iterations>] [-hV] [-o=<outputBasename>]\n       [-t=<cpu>] <bamFile>\n")),(0,n.yg)("h3",{id:"positional-input"},"Positional Input"),(0,n.yg)("p",null,"This tool takes a single BAM file for input. As with other tools, this tool requires the BAM file be indexed."),(0,n.yg)("h3",{id:"output-option"},"Output Option"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Option"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"-o, --output=<outputBasename>")),(0,n.yg)("td",{parentName:"tr",align:null},"specify output file basename for correlation scores")))),(0,n.yg)("h3",{id:"correlation-strategy-options"},"Correlation Strategy Options"),(0,n.yg)("p",null,"Select no more than one strategy."),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Option"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"-r, --random")),(0,n.yg)("td",{parentName:"tr",align:null},"Use the random sampling correlation method (default)")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"-g, --genome")),(0,n.yg)("td",{parentName:"tr",align:null},"Use the full genome correlation method")))),(0,n.yg)("p",null,"If random sampling is selected (",(0,n.yg)("inlineCode",{parentName:"p"},"-r"),"), you may select more options to specify how sampling is performed. These are otherwise ignored."),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Option"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"-w, --window=<windowSize>")),(0,n.yg)("td",{parentName:"tr",align:null},"set window frame size for each extraction (default=50kb)")),(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"-i, --iterations=<iterations>")),(0,n.yg)("td",{parentName:"tr",align:null},"set number of random iterations per chromosome (default=10)")))),(0,n.yg)("h3",{id:"other-options"},"Other Options"),(0,n.yg)("table",null,(0,n.yg)("thead",{parentName:"table"},(0,n.yg)("tr",{parentName:"thead"},(0,n.yg)("th",{parentName:"tr",align:null},"Option"),(0,n.yg)("th",{parentName:"tr",align:null},"Description"))),(0,n.yg)("tbody",{parentName:"table"},(0,n.yg)("tr",{parentName:"tbody"},(0,n.yg)("td",{parentName:"tr",align:null},(0,n.yg)("inlineCode",{parentName:"td"},"-t, --cpu=<cpu>")),(0,n.yg)("td",{parentName:"tr",align:null},"set number of threads for performance tuning (default=1)")))),(0,n.yg)("p",null,"Original code: ",(0,n.yg)("a",{parentName:"p",href:"https://github.com/WilliamKMLai/ArchTEx"},"https://github.com/WilliamKMLai/ArchTEx")))}m.isMDXComponent=!0},8788:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/CrossCorrelationOutput_ccdata-f9e327f9d6338c3b916d676137011b5f.png"},7557:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/CrossCorrelationOutput_ccplot-aac6c3ccb1b83341b1fb4050d9d5d724.png"},9404:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/CrossCorrelation_schematic-65c3922c0405821582ee7ecd7f8d31aa.png"},8605:(e,t,a)=>{a.d(t,{A:()=>r});const r=a.p+"assets/images/CrossCorrelationWindow-0581471531df61f560b4f480fe3cd228.png"}}]);