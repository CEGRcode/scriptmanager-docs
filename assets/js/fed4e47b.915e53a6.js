"use strict";(self.webpackChunkscriptmanager_docs=self.webpackChunkscriptmanager_docs||[]).push([[7264],{3905:(e,t,a)=>{a.d(t,{Zo:()=>p,kt:()=>h});var i=a(7294);function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function n(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,i)}return a}function r(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?n(Object(a),!0).forEach((function(t){o(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function s(e,t){if(null==e)return{};var a,i,o=function(e,t){if(null==e)return{};var a,i,o={},n=Object.keys(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||(o[a]=e[a]);return o}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(i=0;i<n.length;i++)a=n[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}var l=i.createContext({}),d=function(e){var t=i.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):r(r({},t),e)),a},p=function(e){var t=d(e.components);return i.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},u=i.forwardRef((function(e,t){var a=e.components,o=e.mdxType,n=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=d(a),h=o,m=u["".concat(l,".").concat(h)]||u[h]||c[h]||n;return a?i.createElement(m,r(r({ref:t},p),{},{components:a})):i.createElement(m,r({ref:t},p))}));function h(e,t){var a=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var n=a.length,r=new Array(n);r[0]=u;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:o,r[1]=s;for(var d=2;d<n;d++)r[d]=a[d];return i.createElement.apply(null,r)}return i.createElement.apply(null,a)}u.displayName="MDXCreateElement"},7371:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>n,metadata:()=>s,toc:()=>d});var i=a(7462),o=(a(7294),a(3905));const n={id:"chipexo-tutorial",title:"ChIP-exo Tutorial",sidebar_label:"ChIP-exo Tutorial"},r=void 0,s={unversionedId:"Tutorials/chipexo-tutorial",id:"Tutorials/chipexo-tutorial",title:"ChIP-exo Tutorial",description:"Generating two basic sequence-specific ChIP-exo plots: composite and heatmap",source:"@site/docs/Tutorials/chipexo-tutorial.md",sourceDirName:"Tutorials",slug:"/Tutorials/chipexo-tutorial",permalink:"/scriptmanager-docs/docs/Tutorials/chipexo-tutorial",draft:!1,tags:[],version:"current",lastUpdatedBy:"Olivia Wen-Mei Lang",lastUpdatedAt:1674679611,formattedLastUpdatedAt:"Jan 25, 2023",frontMatter:{id:"chipexo-tutorial",title:"ChIP-exo Tutorial",sidebar_label:"ChIP-exo Tutorial"},sidebar:"someSidebar",previous:{title:"Color Selection Guide",permalink:"/scriptmanager-docs/docs/Guides/color-guide"},next:{title:"Genomic Features Tutorial",permalink:"/scriptmanager-docs/docs/Tutorials/genomic-features-tutorial"}},l={},d=[{value:"Download ScriptManager (v0.14):",id:"download-scriptmanager-v014",level:2},{value:"Download Reb1 sample ChIP-exo data:",id:"download-reb1-sample-chip-exo-data",level:2},{value:"Generate the Plots",id:"generate-the-plots",level:2},{value:"1. Open ScriptManager",id:"1-open-scriptmanager",level:3},{value:"2. Generate BAI index file",id:"2-generate-bai-index-file",level:3},{value:"2.1. Navigate to BAM Manipulation \u27a1\ufe0f BAM-BAI Indexer",id:"21-navigate-to-bam-manipulation-\ufe0f-bam-bai-indexer",level:4},{value:"2.2. Generate BAI index files for each BAM file of interest by loading your BAM file and clicking &quot;Index.&quot;",id:"22-generate-bai-index-files-for-each-bam-file-of-interest-by-loading-your-bam-file-and-clicking-index",level:4},{value:"3. Resize the Reb1 motif-aligned BED file",id:"3-resize-the-reb1-motif-aligned-bed-file",level:3},{value:"3.1. Navigate to Coordinate File Manipulation \u27a1\ufe0f Expand BED File",id:"31-navigate-to-coordinate-file-manipulation-\ufe0f-expand-bed-file",level:4},{value:"3.2. For this tutorial, use the 250bp expansion and select &quot;Expand from Center&quot;.",id:"32-for-this-tutorial-use-the-250bp-expansion-and-select-expand-from-center",level:4},{value:"4. Generate the tag pileup",id:"4-generate-the-tag-pileup",level:3},{value:"4.1. Navigate to Sequence Read Analysis \u27a1\ufe0f Tag Pileup",id:"41-navigate-to-sequence-read-analysis-\ufe0f-tag-pileup",level:4},{value:"4.2. Load the BED and BAM files",id:"42-load-the-bed-and-bam-files",level:4},{value:"4.3. Select output directory &amp; make sure &quot;Output Matrix&quot;, &quot;CDT&quot;, and &quot;Output GZIP&quot; are selected",id:"43-select-output-directory--make-sure-output-matrix-cdt-and-output-gzip-are-selected",level:4},{value:"4.4. When ready, select \u2018Pile Tags\u2019 to execute",id:"44-when-ready-select-pile-tags-to-execute",level:4},{value:"4.5. Save composite results",id:"45-save-composite-results",level:4},{value:"5. Generate Heatmaps",id:"5-generate-heatmaps",level:3},{value:"5.1. Navigate to Figure Generation \u27a1\ufe0f Heat Map.",id:"51-navigate-to-figure-generation-\ufe0f-heat-map",level:4},{value:"5.2. Heatmap Generator can only generate one color at a time, so \u2018Sense\u2019 and \u2018Anti\u2019 files should be processed separately. The ChIP-exo standard for strand colors is \u2018Sense\u2019 == blue and \u2018Anti\u2019 == red.",id:"52-heatmap-generator-can-only-generate-one-color-at-a-time-so-sense-and-anti-files-should-be-processed-separately-the-chip-exo-standard-for-strand-colors-is-sense--blue-and-anti--red",level:4},{value:"5.3. Click &quot;Load Files&quot; and select the <code>_sense.cdt</code> output CDT files from running the TagPileup step.",id:"53-click-load-files-and-select-the-_sensecdt-output-cdt-files-from-running-the-tagpileup-step",level:4},{value:"5.4. Select &quot;blue&quot; for the color (per the lab standard)",id:"54-select-blue-for-the-color-per-the-lab-standard",level:4},{value:"5.5. The heatmaps for this dataset show the best contrast when using the default &quot;Percentile Threshold&quot; value (.95 or 95%).  Otherwise your heatmaps will come out too light or too dark to see the shape.",id:"55-the-heatmaps-for-this-dataset-show-the-best-contrast-when-using-the-default-percentile-threshold-value-95-or-95--otherwise-your-heatmaps-will-come-out-too-light-or-too-dark-to-see-the-shape",level:4},{value:"5.6. Click the &quot;Output Heatmap&quot; checkbox. The Heatmap generator does not save the produced PNG by default.",id:"56-click-the-output-heatmap-checkbox-the-heatmap-generator-does-not-save-the-produced-png-by-default",level:4},{value:"5.7. Click &quot;Generate&quot; to save your Sense PNG heatmap!",id:"57-click-generate-to-save-your-sense-png-heatmap",level:4},{value:"5.8. Remove the &quot;Sense&quot; file by selecting it to highlight it and then clicking the &quot;Remove Files button&quot;",id:"58-remove-the-sense-file-by-selecting-it-to-highlight-it-and-then-clicking-the-remove-files-button",level:4},{value:"5.9. Click &quot;Load Files&quot; and select the <code>_anti.cdt</code> output CDT files from running the TagPileup step.",id:"59-click-load-files-and-select-the-_anticdt-output-cdt-files-from-running-the-tagpileup-step",level:4},{value:"5.10. Select &quot;red&quot; for the color (per the lab standard)",id:"510-select-red-for-the-color-per-the-lab-standard",level:4},{value:"5.11. Since all the other parameters should be the same from you &quot;Sense&quot; run, you shouldn&#39;t need to re-select the &quot;Percentile Threshold&quot; or &quot;Output Heatmap&quot; options.",id:"511-since-all-the-other-parameters-should-be-the-same-from-you-sense-run-you-shouldnt-need-to-re-select-the-percentile-threshold-or-output-heatmap-options",level:4},{value:"5.12. Click &quot;Generate&quot; to save you Anti PNG heatmap!",id:"512-click-generate-to-save-you-anti-png-heatmap",level:4},{value:"6. Merge strange-separated heatmaps",id:"6-merge-strange-separated-heatmaps",level:3},{value:"6.1. Navigate to Figure Generation \u27a1\ufe0f Merge Heatmaps so we can merge our strand-separated heatmaps into a single PNG.",id:"61-navigate-to-figure-generation-\ufe0f-merge-heatmaps-so-we-can-merge-our-strand-separated-heatmaps-into-a-single-png",level:4},{value:"6.2. Click &quot;Load PNG Files&quot; to select the two files output by the HeatMap tool (sense and anti) in the last step",id:"62-click-load-png-files-to-select-the-two-files-output-by-the-heatmap-tool-sense-and-anti-in-the-last-step",level:4},{value:"6.3. Click &quot;Generate&quot; to merge the PNG files into the same heatmap",id:"63-click-generate-to-merge-the-png-files-into-the-same-heatmap",level:4},{value:"General Comments",id:"general-comments",level:2},{value:"Command-Line shell script",id:"command-line-shell-script",level:2}],p={toc:d};function c(e){let{components:t,...n}=e;return(0,o.kt)("wrapper",(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("link",{rel:"stylesheet",href:"//maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css"}),(0,o.kt)("p",null,(0,o.kt)("em",{parentName:"p"},"Generating two basic sequence-specific ChIP-exo plots: composite and heatmap")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Goal:")," This tutorial provides a guide to generating 2 basic plots (Composite plot and Heatmap) using the ScriptManager platform and the data generated by the Yeast Epigenome project."),(0,o.kt)("h2",{id:"download-scriptmanager-v014"},"Download ScriptManager (v0.14):"),(0,o.kt)("p",null,"The current version of ScriptManager is available for download ",(0,o.kt)("strong",{parentName:"p"},(0,o.kt)("a",{parentName:"strong",href:"https://github.com/CEGRcode/scriptmanager/releases/download/v0.14/ScriptManager-v0.14.jar"},"here")),". Make sure you have ",(0,o.kt)("a",{parentName:"p",href:"/docs/#java"},"Java installed"),"."),(0,o.kt)("p",null,"The file ",(0,o.kt)("inlineCode",{parentName:"p"},"ScriptManager-v0.14.jar")," should be placed someplace locally accessible. For example on Mac OS on the Desktop (Permissions will need to be accepted) or someplace in your home directory (i.e. Macintosh HD/Users/userID/ScriptManager)"),(0,o.kt)("h2",{id:"download-reb1-sample-chip-exo-data"},"Download Reb1 sample ChIP-exo data:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"You need one set of genomic coordinate regions to investigate (BED) and one file of sequencing data alignments (BAM) to complete this exercise.",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"https://github.com/CEGRcode/2018-Rossi_GenomeResearch/blob/master/Fig1_Reb1/A.Reb1_Rhee_primary_sites_975.bed"},"Sample BED file for Reb1")),(0,o.kt)("li",{parentName:"ul"},"Sample BAM file for Reb1 (see instructions below)")))),(0,o.kt)("ol",null,(0,o.kt)("li",{parentName:"ol"},"Navigate to ",(0,o.kt)("a",{parentName:"li",href:"http://www.yeastepigenome.org"},"www.yeastepigenome.org")," and search for Reb1"),(0,o.kt)("li",{parentName:"ol"},'Select "META DATA"'),(0,o.kt)("li",{parentName:"ol"},'Select "Direct Download"'),(0,o.kt)("li",{parentName:"ol"},"Unzip the resulting file \u201812141_YEP.zip\u2019 and inspect the contents of the new ",(0,o.kt)("inlineCode",{parentName:"li"},"12141_YEP")," folder. It should contain a file called ",(0,o.kt)("inlineCode",{parentName:"li"},"12141_filtered.bam"),".")),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"If your BED file downloads with a ",(0,o.kt)("inlineCode",{parentName:"p"},".txt")," extension, make sure to change the filename to a ",(0,o.kt)("inlineCode",{parentName:"p"},".bed")," extension. For this tutorial, the BED file is named ",(0,o.kt)("inlineCode",{parentName:"p"},"Reb1_Rhee_primary_sites_975.bed"),".")),(0,o.kt)("h2",{id:"generate-the-plots"},"Generate the Plots"),(0,o.kt)("h3",{id:"1-open-scriptmanager"},"1. Open ScriptManager"),(0,o.kt)("p",null,"Depending on your system permissions, you may need to be an administrator to open this for the first time."),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"On Mac systems, this can be done by right-clicking the file and selecting \u2018Open\u2019 at the top.")),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(2140).Z,style:{width:"40%"}})),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"Some of the newer MacOS systems may not properly open the JAR by simply double-clicking on the JAR file so you may need to open your Terminal window and execute it from the command line by typing"),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre"},"java -jar /path/to/ScriptManager.jar\n")),(0,o.kt)("p",{parentName:"admonition"},"If you're not sure how to type the path to ScriptManager, you can type ",(0,o.kt)("inlineCode",{parentName:"p"},"java -jar ")," (end with space) and then drag ScriptManager from Finder into your Terminal window and then press enter.")),(0,o.kt)("h3",{id:"2-generate-bai-index-file"},"2. Generate BAI index file"),(0,o.kt)("p",null,"A BAI index file is required for each BAM file of interest (i.e., the tag occupancy data you want to plot). This file allows for rapid access of the sorted and aligned sequence reads (BAM file)."),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"SAM/BAM standard is to keep BAI file in same directory as BAM file with the ScriptManager-generated filename."),(0,o.kt)("pre",{parentName:"admonition"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"Reb1_YEP_12141.bam\nReb1_YEP_12141.bam.bai  # Need to generate this file to proceed.\n"))),(0,o.kt)("h4",{id:"21-navigate-to-bam-manipulation-\ufe0f-bam-bai-indexer"},"2.1. Navigate to BAM Manipulation \u27a1\ufe0f ",(0,o.kt)("a",{parentName:"h4",href:"/scriptmanager-docs/docs/bam-manipulation/bam-indexer"},(0,o.kt)("strong",{parentName:"a"},"BAM-BAI Indexer"))),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(3257).Z,style:{width:"60%"}})),(0,o.kt)("h4",{id:"22-generate-bai-index-files-for-each-bam-file-of-interest-by-loading-your-bam-file-and-clicking-index"},'2.2. Generate BAI index files for each BAM file of interest by loading your BAM file and clicking "Index."'),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(5117).Z,style:{width:"60%"}}),(0,o.kt)("i",{class:"fa fa-arrow-right fa-lg"}),(0,o.kt)("img",{src:a(6608).Z,style:{width:"30%"}})),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"The speed of this step scales with the size of the BAM file. Generally this step 30 sec for a 100 MB BAM file but may take 1-2 min for a multi-GB BAM file.")),(0,o.kt)("h3",{id:"3-resize-the-reb1-motif-aligned-bed-file"},"3. Resize the Reb1 motif-aligned BED file"),(0,o.kt)("p",null,"The BED file is the set of reference coordinates that your heatmap and composite plots will be aligned to, but you\u2019ll need to specify how far upstream and downstream you want your data to be plotted; i.e., \u201cSize of Expansion (bp). If you bed file is defined by more than a 1 bp interval AND you want to add to limits of that interval, then select  \u201cAdd to Border\u201d)."),(0,o.kt)("h4",{id:"31-navigate-to-coordinate-file-manipulation-\ufe0f-expand-bed-file"},"3.1. Navigate to Coordinate File Manipulation \u27a1\ufe0f ",(0,o.kt)("a",{parentName:"h4",href:"/scriptmanager-docs/docs/coordinate-manipulation/expand-bed"},(0,o.kt)("strong",{parentName:"a"},"Expand BED File"))),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(6386).Z,style:{width:"60%"}})),(0,o.kt)("h4",{id:"32-for-this-tutorial-use-the-250bp-expansion-and-select-expand-from-center"},'3.2. For this tutorial, use the 250bp expansion and select "Expand from Center".'),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(2081).Z,style:{width:"60%"}}),(0,o.kt)("i",{class:"fa fa-arrow-right fa-lg"}),(0,o.kt)("img",{src:a(4567).Z,style:{width:"30%"}})),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"BED file coordinates often need to be resized for more informative tag pileups. For Reb1 (yeast), 250-500 bp windows are generally sufficient. Mammalian samples may require larger windows (500-2000 bp) based on the amount of indirect-crosslinking")),(0,o.kt)("h3",{id:"4-generate-the-tag-pileup"},"4. Generate the tag pileup"),(0,o.kt)("p",null,"Use TagPileup to pileup the BAM data within a set of BED coordinate windows to generate the composite plot and the matrix(CDT) files that will be used to generate the heatmaps."),(0,o.kt)("h4",{id:"41-navigate-to-sequence-read-analysis-\ufe0f-tag-pileup"},"4.1. Navigate to Sequence Read Analysis \u27a1\ufe0f ",(0,o.kt)("a",{parentName:"h4",href:"/scriptmanager-docs/docs/read-analysis/tag-pileup"},(0,o.kt)("strong",{parentName:"a"},"Tag Pileup"))),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(3823).Z,style:{width:"60%"}})),(0,o.kt)("h4",{id:"42-load-the-bed-and-bam-files"},"4.2. Load the BED and BAM files"),(0,o.kt)("h4",{id:"43-select-output-directory--make-sure-output-matrix-cdt-and-output-gzip-are-selected"},'4.3. Select output directory & make sure "Output Matrix", "CDT", and "Output GZIP" are selected'),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"Bioinformatic projects should be organized in a uniform and consistent manner as described below")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},(0,o.kt)("a",{parentName:"p",href:"https://journals.plos.org/ploscompbiol/article/file?id=10.1371/journal.pcbi.1000424&type=printable"},"Paper on how to organize bioinformatics projects (Noble 2009)")))),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(50).Z,style:{width:"100%"}})),(0,o.kt)("h4",{id:"44-when-ready-select-pile-tags-to-execute"},"4.4. When ready, select \u2018Pile Tags\u2019 to execute"),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"The default parameters Tag Pileup is set to expect is a sequence-specific strand separated ChIP-exo dataset. Modifications to these parameters are needed for more specific analysis or when using data generated from other assays.")),(0,o.kt)("h4",{id:"45-save-composite-results"},"4.5. Save composite results"),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(9).Z,style:{width:"100%"}})),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The displayed composite plot can be modified by right-clicking and selecting properties. Things such as axis labels, axis range, and colors can be modified here.")),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("p",{parentName:"li"},"The final image can then be saved by right-clicking and selecting \u2018Save as\u2019. PNG is fine for most cases, but SVG is strongly recommended if this composite plot will be used in Adobe Illustrator later."))),(0,o.kt)("admonition",{type:"note"},(0,o.kt)("p",{parentName:"admonition"},"Besides the composite plot image, ScriptManager has saved the matrix ","*",".CDT files to your Output Directory together with the composite plot values file (If you didn't change the name it would be called ",(0,o.kt)("inlineCode",{parentName:"p"},"composite_average.out"),"). These CDT files will be used as the input for generating heatmaps in the next step.")),(0,o.kt)("h3",{id:"5-generate-heatmaps"},"5. Generate Heatmaps"),(0,o.kt)("h4",{id:"51-navigate-to-figure-generation-\ufe0f-heat-map"},"5.1. Navigate to Figure Generation \u27a1\ufe0f ",(0,o.kt)("a",{parentName:"h4",href:"/scriptmanager-docs/docs/figure-generation/heatmap"},(0,o.kt)("strong",{parentName:"a"},"Heat Map")),"."),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(9729).Z,style:{width:"60%"}})),(0,o.kt)("h4",{id:"52-heatmap-generator-can-only-generate-one-color-at-a-time-so-sense-and-anti-files-should-be-processed-separately-the-chip-exo-standard-for-strand-colors-is-sense--blue-and-anti--red"},"5.2. Heatmap Generator can only generate one color at a time, so \u2018Sense\u2019 and \u2018Anti\u2019 files should be processed separately. The ChIP-exo standard for strand colors is \u2018Sense\u2019 == blue and \u2018Anti\u2019 == red."),(0,o.kt)("p",null,"Start by generating the 'Sense' heatmap first."),(0,o.kt)("h4",{id:"53-click-load-files-and-select-the-_sensecdt-output-cdt-files-from-running-the-tagpileup-step"},'5.3. Click "Load Files" and select the ',(0,o.kt)("inlineCode",{parentName:"h4"},"_sense.cdt")," output CDT files from running the TagPileup step."),(0,o.kt)("h4",{id:"54-select-blue-for-the-color-per-the-lab-standard"},'5.4. Select "blue" for the color (per the lab standard)'),(0,o.kt)("h4",{id:"55-the-heatmaps-for-this-dataset-show-the-best-contrast-when-using-the-default-percentile-threshold-value-95-or-95--otherwise-your-heatmaps-will-come-out-too-light-or-too-dark-to-see-the-shape"},'5.5. The heatmaps for this dataset show the best contrast when using the default "Percentile Threshold" value (.95 or 95%).  Otherwise your heatmaps will come out too light or too dark to see the shape.'),(0,o.kt)("h4",{id:"56-click-the-output-heatmap-checkbox-the-heatmap-generator-does-not-save-the-produced-png-by-default"},'5.6. Click the "Output Heatmap" checkbox. The Heatmap generator does not save the produced PNG by default.'),(0,o.kt)("h4",{id:"57-click-generate-to-save-your-sense-png-heatmap"},'5.7. Click "Generate" to save your Sense PNG heatmap!'),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(3594).Z,style:{width:"40%"}}),(0,o.kt)("i",{class:"fa fa-arrow-right fa-lg"}),(0,o.kt)("img",{src:a(5867).Z,style:{width:"40%"}})),(0,o.kt)("admonition",{type:"tip"},(0,o.kt)("p",{parentName:"admonition"},'"Percentile Threshold" is a useful for looking at the shape of ChIP-exo binding patterns while "Absolute Threshold" is useful for setting a shared contrast threshold across several samples and comparing signal density. For other data, you may need to play around with settings to find the right contrast for you data.')),(0,o.kt)("p",null,"Similarly generate the 'Anti' heatmap."),(0,o.kt)("h4",{id:"58-remove-the-sense-file-by-selecting-it-to-highlight-it-and-then-clicking-the-remove-files-button"},'5.8. Remove the "Sense" file by selecting it to highlight it and then clicking the "Remove Files button"'),(0,o.kt)("h4",{id:"59-click-load-files-and-select-the-_anticdt-output-cdt-files-from-running-the-tagpileup-step"},'5.9. Click "Load Files" and select the ',(0,o.kt)("inlineCode",{parentName:"h4"},"_anti.cdt")," output CDT files from running the TagPileup step."),(0,o.kt)("h4",{id:"510-select-red-for-the-color-per-the-lab-standard"},'5.10. Select "red" for the color (per the lab standard)'),(0,o.kt)("h4",{id:"511-since-all-the-other-parameters-should-be-the-same-from-you-sense-run-you-shouldnt-need-to-re-select-the-percentile-threshold-or-output-heatmap-options"},'5.11. Since all the other parameters should be the same from you "Sense" run, you shouldn\'t need to re-select the "Percentile Threshold" or "Output Heatmap" options.'),(0,o.kt)("h4",{id:"512-click-generate-to-save-you-anti-png-heatmap"},'5.12. Click "Generate" to save you Anti PNG heatmap!'),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(9432).Z,style:{width:"40%"}}),(0,o.kt)("i",{class:"fa fa-arrow-right fa-lg"}),(0,o.kt)("img",{src:a(1276).Z,style:{width:"40%"}})),(0,o.kt)("h3",{id:"6-merge-strange-separated-heatmaps"},"6. Merge strange-separated heatmaps"),(0,o.kt)("h4",{id:"61-navigate-to-figure-generation-\ufe0f-merge-heatmaps-so-we-can-merge-our-strand-separated-heatmaps-into-a-single-png"},"6.1. Navigate to Figure Generation \u27a1\ufe0f ",(0,o.kt)("a",{parentName:"h4",href:"/scriptmanager-docs/docs/figure-generation/merge-heatmap"},(0,o.kt)("strong",{parentName:"a"},"Merge Heatmaps"))," so we can merge our strand-separated heatmaps into a single PNG."),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(2827).Z,style:{width:"60%"}})),(0,o.kt)("p",null,"The script will automatically match sense to anti heatmaps using the standardized naming conventions used by ScriptManager"),(0,o.kt)("h4",{id:"62-click-load-png-files-to-select-the-two-files-output-by-the-heatmap-tool-sense-and-anti-in-the-last-step"},'6.2. Click "Load PNG Files" to select the two files output by the HeatMap tool (sense and anti) in the last step'),(0,o.kt)("h4",{id:"63-click-generate-to-merge-the-png-files-into-the-same-heatmap"},'6.3. Click "Generate" to merge the PNG files into the same heatmap'),(0,o.kt)("div",{class:"tutorial-img-flow-container"},(0,o.kt)("img",{src:a(1842).Z,style:{width:"50%"}}),(0,o.kt)("i",{class:"fa fa-arrow-right fa-lg"}),(0,o.kt)("img",{src:a(518).Z,style:{width:"40%"}})),(0,o.kt)("h2",{id:"general-comments"},"General Comments"),(0,o.kt)("p",null,"Bioinformatic projects should be organized in a uniform and consistent manner as described in ",(0,o.kt)("a",{parentName:"p",href:"https://journals.plos.org/ploscompbiol/article/file?id=10.1371/journal.pcbi.1000424&type=printable"},(0,o.kt)("strong",{parentName:"a"},"Noble, 2009")),"."),(0,o.kt)("h2",{id:"command-line-shell-script"},"Command-Line shell script"),(0,o.kt)("p",null,"The following shell commands records the locations for a BED file, a BAM file, and the anticipated OUTPUT basename as environmental variables to derive the corresponding composite plot values and heatmaps. This can serve as a template for you to write out your own workflows as bash scripts that execute command-line style ScriptManager."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"SCRIPTMANAGER=/path/to/ScriptManager.jar\nBEDFILE=/path/to/Reb1_Rhee_primary_sites_975.bed\nBAMFILE=/path/to/12141_filtered.bam\nOUTPUT=/path/to/myoutput\n\nsamtools index $BAMFILE\njava -jar $SCRIPTMANAGER coordinate-manipulation expand-bed -c 250 $BEDFILE -o BED_250bp.bed\njava -jar $SCRIPTMANAGER read-analysis tag-pileup $BEDFILE $BAMFILE -o $OUTPUT\\_composite.out -M $OUTPUT\\_matrix\njava -jar $SCRIPTMANAGER figure-generation heatmap -p .95 --blue $OUTPUT\\_matrix_sense.cdt -o SENSE.png\njava -jar $SCRIPTMANAGER figure-generation heatmap -p .95 --red $OUTPUT\\_matrix_sense.cdt -o ANTI.png\njava -jar $SCRIPTMANAGER figure-generation merge-heatmap SENSE.png ANTI.png -o $OUTPUT\\_heatmap.png\n\nrm BED_250bp.bed SENSE.png ANTI.png\n\n# Output files:\n#  - /path/to/myoutput_composite.out\n#  - /path/to/myoutput_matrix_sense.cdt\n#  - /path/to/myoutput_matrix_anti.cdt\n#  - /path/to/myoutput_heatmap.png\n")))}c.isMDXComponent=!0},6608:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-bamidx-complete-e925a25e686f6c6813848dd104f8cfd5.png"},5117:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-bamidx-aa4e45d9e6ea63a6f3bb4a921bfd1ad5.png"},4567:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-expandbed-complete-031750880fd32f9fc0d7002c35bd022d.png"},2081:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-expandbed-0faadcd1af45e62bd9a96280c0094d50.png"},1276:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-heatmap-anti-out-c15ecf9808b3239fc0b72c6cd268aa24.png"},9432:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-heatmap-anti-efc608a8912c1548cac99e6b1fea024e.png"},5867:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-heatmap-sense-out-e317b5a92372f2fd64ffe5ffc796d76a.png"},3594:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-heatmap-sense-acaff40410d3935bec8e20cca749c86a.png"},518:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-mergehm-out-4145e0ec8d9f72b6db23a6b1727be0f8.png"},1842:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-mergehm-f255e0ce11a26571158ee46f4bfb3eb3.png"},9:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-tagpileup-out-799264f9c9d6119ab8036c02dfbaa9d5.png"},50:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/gui-tagpileup-61c2817ab78015cd8bfe5b1e1377955c.png"},3257:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/maingui-bamidx-916174344aa9670cd3fe1bb3f0287a74.png"},6386:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/maingui-expandbed-c34fe4ec13cf11c4c61fa108f2a8d5a2.png"},9729:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/maingui-heatmap-9bd8cf5b3e862579d99b4ffb1b913ca5.png"},2827:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/maingui-mergehm-a39596c9dc0067a0ff2596d266912ebb.png"},3823:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/maingui-tagpileup-a595f39070628d9d700325cc9d77895d.png"},2140:(e,t,a)=>{a.d(t,{Z:()=>i});const i=a.p+"assets/images/open-sm-5f0508d59e500792ea199946818706f1.png"}}]);