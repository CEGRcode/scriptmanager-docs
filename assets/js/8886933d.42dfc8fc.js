"use strict";(self.webpackChunkscriptmanager_docs=self.webpackChunkscriptmanager_docs||[]).push([[9616],{5680:(e,t,a)=>{a.d(t,{xA:()=>s,yg:()=>u});var n=a(6540);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var p=n.createContext({}),g=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=g(e.components);return n.createElement(p.Provider,{value:t},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),m=g(a),c=l,u=m["".concat(p,".").concat(c)]||m[c]||d[c]||r;return a?n.createElement(u,i(i({ref:t},s),{},{components:a})):n.createElement(u,i({ref:t},s))}));function u(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o[m]="string"==typeof e?e:l,i[1]=o;for(var g=2;g<r;g++)i[g]=a[g];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},2343:(e,t,a)=>{a.r(t),a.d(t,{Highlight:()=>s,assets:()=>p,contentTitle:()=>i,default:()=>c,frontMatter:()=>r,metadata:()=>o,toc:()=>g});var n=a(8168),l=(a(6540),a(5680));const r={id:"three-color-heatmap",title:"Three Color Heatmap",sidebar_label:"three-color-heatmap"},i=void 0,o={unversionedId:"Tools/figure-generation/three-color-heatmap",id:"Tools/figure-generation/three-color-heatmap",title:"Three Color Heatmap",description:"Three Color Heatmap",source:"@site/docs/Tools/figure-generation/three-color-heatmap.md",sourceDirName:"Tools/figure-generation",slug:"/Tools/figure-generation/three-color-heatmap",permalink:"/scriptmanager-docs/docs/Tools/figure-generation/three-color-heatmap",draft:!1,tags:[],version:"current",lastUpdatedBy:"Olivia Wen-Mei Lang",lastUpdatedAt:1723842931,formattedLastUpdatedAt:"Aug 16, 2024",frontMatter:{id:"three-color-heatmap",title:"Three Color Heatmap",sidebar_label:"three-color-heatmap"},sidebar:"toolSidebar",previous:{title:"Merge Heatmap",permalink:"/scriptmanager-docs/docs/Tools/figure-generation/merge-heatmap"},next:{title:"File Utilities",permalink:"/scriptmanager-docs/docs/Tools/file-utilities/"}},p={},g=[{value:"File inputs",id:"file-inputs",level:3},{value:"Color selection",id:"color-selection",level:3},{value:"Contrast threshold",id:"contrast-threshold",level:3},{value:"Image dimensions",id:"image-dimensions",level:3},{value:"Image Compression",id:"image-compression",level:3},{value:"Positional Input",id:"positional-input",level:3},{value:"Output Options",id:"output-options",level:3},{value:"Plot Design Options",id:"plot-design-options",level:3},{value:"Select minimum value",id:"select-minimum-value",level:3},{value:"Select middling value",id:"select-middling-value",level:3},{value:"Select maximum value",id:"select-maximum-value",level:3},{value:"Select heatmap colors",id:"select-heatmap-colors",level:3}],s=e=>{let{children:t,color:a}=e;return(0,l.yg)("span",{style:{backgroundColor:a,borderRadius:"2px",color:"#fff",padding:"0.2rem"}},t)},m={toc:g,Highlight:s},d="wrapper";function c(e){let{components:t,...r}=e;return(0,l.yg)(d,(0,n.A)({},m,r,{components:t,mdxType:"MDXLayout"}),(0,l.yg)("p",null,(0,l.yg)("img",{alt:"Three Color Heatmap",src:a(9880).A,width:"103",height:"103"})),(0,l.yg)("p",null,"Generate heat map with middling values."),(0,l.yg)("admonition",{type:"note"},(0,l.yg)("p",{parentName:"admonition"},"Extended description goes here.")),(0,l.yg)("img",{src:a(8659).A,style:{width:"70%"}}),(0,l.yg)("h3",{id:"file-inputs"},"File inputs"),(0,l.yg)("p",null,"This script does not restrict selection of file inputs because a variety of file extensions may be parsed out for the numeric matrix. The tool supports bulk selection and processing of files."),(0,l.yg)("h3",{id:"color-selection"},"Color selection"),(0,l.yg)("p",null,"Details of the implementation are described below but typically Lo(Low), Mid(Middle), and Hi(High) represent different ranges of data values, allowing for a visual gradinet that highlights variations in the data. "),(0,l.yg)("p",null,(0,l.yg)("strong",{parentName:"p"},"Lo(Low)")," represents the lowest range of data values and is assigned the color 'blue'.\n",(0,l.yg)("strong",{parentName:"p"},"Mid(Middle)")," represents the middle range of data and is assigned the color 'black'.\n",(0,l.yg)("strong",{parentName:"p"},"Hi(High)")," represents the highest range of data values and is assigned the color 'yellow'."),(0,l.yg)("h3",{id:"contrast-threshold"},"Contrast threshold"),(0,l.yg)("p",null,"The user can specify the contrast threshold in a couple ways:"),(0,l.yg)("ul",null,(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Absolute:"),' The user can directly define the value marking the "maximum color".'),(0,l.yg)("li",{parentName:"ul"},(0,l.yg)("strong",{parentName:"li"},"Percentile:")," Or the user can tell the script to dynamically determine the top ",(0,l.yg)("span",{parentName:"li",className:"math math-inline"},(0,l.yg)("span",{parentName:"span",className:"katex"},(0,l.yg)("span",{parentName:"span",className:"katex-mathml"},(0,l.yg)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,l.yg)("semantics",{parentName:"math"},(0,l.yg)("mrow",{parentName:"semantics"},(0,l.yg)("mi",{parentName:"mrow"},"p")),(0,l.yg)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"p")))),(0,l.yg)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,l.yg)("span",{parentName:"span",className:"base"},(0,l.yg)("span",{parentName:"span",className:"strut",style:{height:"0.625em",verticalAlign:"-0.1944em"}}),(0,l.yg)("span",{parentName:"span",className:"mord mathnormal"},"p"))))),' percentile of values across the numeric matrix (excluding zeros) and set them all to have the "maximum color" value and scale color assignment for the rest of the values.')),(0,l.yg)("p",null,'Read more about the contrast threshold below ("Details of color-scaling strategy").'),(0,l.yg)("h3",{id:"image-dimensions"},"Image dimensions"),(0,l.yg)("p",null,"The image height and width specify the number of pixels to squish or expand the numeric matrix into for the final output ",(0,l.yg)("inlineCode",{parentName:"p"},".png")," heat map image."),(0,l.yg)("h3",{id:"image-compression"},"Image Compression"),(0,l.yg)("p",null,'The image compression options allow the user to choose from several image compression strategies but we recommend "Treeview" for base-pair resolution tag-pileup occupancy data. This is the same strategy implemented by previous microarray visualization packages (',"[Saldanha et al, 2004][treeview-paper]",")."),(0,l.yg)("h1",{id:"command-line-interface"},"Command Line Interface"),(0,l.yg)("p",null,"Usage:"),(0,l.yg)("pre",null,(0,l.yg)("code",{parentName:"pre",className:"language-bash"},"java -jar Scriptmanager.jar figure-generation three-color [-pn=<percentile> |\n       -an=<absolute>] [-pd=<percentile> | -ad=<absolute>] [-px=<percentile> |\n       -ax=<absolute>] [-cn=<min> | -cd=<mid> | -cx=<max> | -ca=<nan>] [-0hV]\n       [-l=<startCOL>] [-o=<output>] [-r=<startROW>] [-x=<pixelWidth>]\n       [-y=<pixelHeight>] [-z=<compression>] <CDT>\n")),(0,l.yg)("p",null,"Description:"),(0,l.yg)("p",null,"Generate heat map with middling values."),(0,l.yg)("h3",{id:"positional-input"},"Positional Input"),(0,l.yg)("p",null,"Expects a ",(0,l.yg)("a",{parentName:"p",href:"/docs/Guides/Getting-Started/file-formats#cdt"},"CDT")," formatted matrix file of values to generate heatmap from."),(0,l.yg)("h3",{id:"output-options"},"Output Options"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Option"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-o, --output=<output>")),(0,l.yg)("td",{parentName:"tr",align:null},'specify output filename, please use PNG extension (default=CDT filename with "_\\<compression-type',">",'. png" appended to the name in working directory of ScriptManager)')))),(0,l.yg)("h3",{id:"plot-design-options"},"Plot Design Options"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Option"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-r, --start-row=<startROW>")),(0,l.yg)("td",{parentName:"tr",align:null})),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-l, --start-col=<startCOL>")),(0,l.yg)("td",{parentName:"tr",align:null})),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-x, --width=<pixelWidth>")),(0,l.yg)("td",{parentName:"tr",align:null},"indicate a pixel width for the heatmap (default=200)")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-y, --height=<pixelHeight>")),(0,l.yg)("td",{parentName:"tr",align:null},"indicate a pixel height for the heatmap (default=600)")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-z, --compression=<compression>")),(0,l.yg)("td",{parentName:"tr",align:null},"choose an image compression type: 1=Treeview, 2=Bicubic, 3=Bilinear, 4=Nearest Neighbor (default=1Treeview)")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-0, --include-zeros")),(0,l.yg)("td",{parentName:"tr",align:null},"used with ",(0,l.yg)("inlineCode",{parentName:"td"},"-p")," flag, indicating exclusion of zero values when calculating percentile thresholds")))),(0,l.yg)("h3",{id:"select-minimum-value"},"Select minimum value"),(0,l.yg)("p",null,"(select no more than one of these options)"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Option"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-pn=<percentile>")),(0,l.yg)("td",{parentName:"tr",align:null},"use this percentile (as opposed to specific values) for contrast thresholding in determining max contrast value of the heatmap")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-an=<absolute>")),(0,l.yg)("td",{parentName:"tr",align:null},"the minimum value for contrast thresholding in the heatmap (default,min=-10)")))),(0,l.yg)("h3",{id:"select-middling-value"},"Select middling value"),(0,l.yg)("p",null,"(select no more than one of these options)"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Option"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-pd=<percentile>")),(0,l.yg)("td",{parentName:"tr",align:null},"use this percentile (as opposed to specific values) for contrast thresholding in determining max contrast value of the heatmap")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-ad=<absolute>")),(0,l.yg)("td",{parentName:"tr",align:null},"the midpoint value for contrast thresholding in the heatmap (default,mid=0)")))),(0,l.yg)("h3",{id:"select-maximum-value"},"Select maximum value"),(0,l.yg)("p",null,"(select no more than one of these options)"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Option"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-px=<percentile>")),(0,l.yg)("td",{parentName:"tr",align:null},"use this percentile (as opposed to specify values) for contrast thresholding in determining max contrast value of the heatmap")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-ax=<absolute>")),(0,l.yg)("td",{parentName:"tr",align:null},"the maximum value for contrast thresholding (default,max=10)")))),(0,l.yg)("h3",{id:"select-heatmap-colors"},"Select heatmap colors"),(0,l.yg)("table",null,(0,l.yg)("thead",{parentName:"table"},(0,l.yg)("tr",{parentName:"thead"},(0,l.yg)("th",{parentName:"tr",align:null},"Option"),(0,l.yg)("th",{parentName:"tr",align:null},"Description"))),(0,l.yg)("tbody",{parentName:"table"},(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-cn, --color-min=<min>")),(0,l.yg)("td",{parentName:"tr",align:null},"Color indicating minimum values (default=YELLOW)")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-cd, --color-mid=<mid>")),(0,l.yg)("td",{parentName:"tr",align:null},"Color indicating middle values (default=BLACK)")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-cx, --color-max=<max>")),(0,l.yg)("td",{parentName:"tr",align:null},"Color indicating maximum values (default=CYAN)")),(0,l.yg)("tr",{parentName:"tbody"},(0,l.yg)("td",{parentName:"tr",align:null},(0,l.yg)("inlineCode",{parentName:"td"},"-ca, --color-nan=<nan>")),(0,l.yg)("td",{parentName:"tr",align:null},"Color indicating not-a-number values (default=GRAY)")))),(0,l.yg)("p",null,'For custom color: type hexadecimal string to represent colors (e.g. "FF0000" is hexadecimal for red). See ',(0,l.yg)("a",{parentName:"p",href:"http://www.javascripter.net/faq/rgbtohex.htm"},"http://www.javascripter.net/faq/rgbtohex.htm")," for some color options with their corresponding hex strings."))}c.isMDXComponent=!0},8659:(e,t,a)=>{a.d(t,{A:()=>n});const n=a.p+"assets/images/ThreeColorHeatMapWindow-aa30aaff04855808bbafff940a704bb4.png"},9880:(e,t,a)=>{a.d(t,{A:()=>n});const n="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDI0LjIuMywgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxMDMgMTAzIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAxMDMgMTAzOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+Cgkuc3Qwe2ZpbGw6I0ZGRkZGRjtzdHJva2U6IzA3MDYwNjtzdHJva2Utd2lkdGg6MztzdHJva2UtbWl0ZXJsaW1pdDoxMDt9Cgkuc3Qxe2ZpbGw6dXJsKCNTVkdJRF8xXyk7c3Ryb2tlOiMwNDAwMDA7c3Ryb2tlLW1pdGVybGltaXQ6MTA7fQo8L3N0eWxlPgo8ZyBpZD0iVGhyZWVfQ29sb3JfSGVhdG1hcCI+Cgk8cGF0aCBpZD0ic3F1YXJlIiBjbGFzcz0ic3QwIiBkPSJNOS4zLDEuNWg4NC40YzQuMywwLDcuOCwzLjUsNy44LDcuOHY4NC40YzAsNC4zLTMuNSw3LjgtNy44LDcuOEg5LjNjLTQuMywwLTcuOC0zLjUtNy44LTcuOFY5LjMKCQlDMS41LDUsNSwxLjUsOS4zLDEuNXoiLz4KPC9nPgo8ZyBpZD0iVHdvX0NvbG9yX0hlYXRtYXAiPgoJCgkJPGxpbmVhckdyYWRpZW50IGlkPSJTVkdJRF8xXyIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIHgxPSIxOS4wODU5IiB5MT0iNTIuMzg5OCIgeDI9IjgzLjkxNDEiIHkyPSI1Mi4zODk4IiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgMTAzLjg4OTgpIj4KCQk8c3RvcCAgb2Zmc2V0PSI3LjAwMDAwMGUtMDIiIHN0eWxlPSJzdG9wLWNvbG9yOiNFRUU5MzkiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjE0IiBzdHlsZT0ic3RvcC1jb2xvcjojQzBCQjJFIi8+CgkJPHN0b3AgIG9mZnNldD0iMC4zMSIgc3R5bGU9InN0b3AtY29sb3I6IzVDNTcxNSIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNDMiIHN0eWxlPSJzdG9wLWNvbG9yOiMxRDE4MDYiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjQ4IiBzdHlsZT0ic3RvcC1jb2xvcjojMDQwMDAwIi8+CgkJPHN0b3AgIG9mZnNldD0iMC41MiIgc3R5bGU9InN0b3AtY29sb3I6IzA2MEEwQyIvPgoJCTxzdG9wICBvZmZzZXQ9IjAuNTkiIHN0eWxlPSJzdG9wLWNvbG9yOiMwQjI0MkQiLz4KCQk8c3RvcCAgb2Zmc2V0PSIwLjY4IiBzdHlsZT0ic3RvcC1jb2xvcjojMTQ0RjYzIi8+CgkJPHN0b3AgIG9mZnNldD0iMC44IiBzdHlsZT0ic3RvcC1jb2xvcjojMjA4QUFDIi8+CgkJPHN0b3AgIG9mZnNldD0iMC44NiIgc3R5bGU9InN0b3AtY29sb3I6IzI3QUJENSIvPgoJPC9saW5lYXJHcmFkaWVudD4KCTxyZWN0IHg9IjE5LjEiIHk9IjE5LjEiIGNsYXNzPSJzdDEiIHdpZHRoPSI2NC44IiBoZWlnaHQ9IjY0LjgiLz4KPC9nPgo8L3N2Zz4K"}}]);